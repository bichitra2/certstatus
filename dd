#!/usr/bin/env python3
import os
import subprocess

def run_cmd(cmd):
    result = subprocess.run(cmd, shell=True, capture_output=True, text=True)
    return result.stdout.strip()

def server_status():
    print(run_cmd("systemctl status myserver.service | head -20"))

def backend_connection():
    print(run_cmd("curl -I https://backend.url.com 2>/dev/null"))

def cert_validity():
    print(run_cmd("echo | openssl s_client -connect backend.url.com:443 2>/dev/null | openssl x509 -noout -enddate"))

while True:
    print("\nMenu")
    print("1) Server Status")
    print("2) Backend Connection")
    print("3) Certificate Validity")
    print("4) Exit")
    choice = input("Select option: ")

    if choice == "1":
        server_status()
    elif choice == "2":
        backend_connection()
    elif choice == "3":
        cert_validity()
    elif choice == "4":
        break
    else:
        print("Invalid option")
